<div class="room-card">
  <div class="room-card__image-container">
    <img
      [src]="room.photo_url || '/assets/images/room-placeholder.jpg'"
      [alt]="room.room_type"
      class="room-card__image"
    />
  </div>

  <div class="room-card__content">
    <div class="room-card__info">
      <h3 class="room-card__name">{{ room.room_type }}</h3>

      <div class="room-card__details">
        <div class="room-card__detail">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <!-- <span>{{ room.capacity }} {{ getGuestsText(room.capacity) }}</span> -->
        </div>

        <div class="room-card__detail">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
          </svg>
        </div>

        <div class="room-card__detail">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
          </svg>
        </div>
      </div>

      <div class="room-card__amenities">
        <span
          class="room-card__amenity"
          *ngFor="let amenity of hotel?.amenities?.slice(0, 3)"
        >
          {{ amenity }}
        </span>
        <span
          class="room-card__amenity room-card__amenity--more"
          *ngIf="hotel?.amenities?.length > 3"
        >
          +{{ hotel.amenities.length - 3 }} еще
        </span>
      </div>

      <div class="room-card__description">
        <p>{{ hotel.description }}</p>
      </div>
    </div>

    <div class="room-card__booking">
      <div class="room-card__price-container">
        <div class="room-card__price-label">Цена за ночь</div>
        <div class="room-card__price">
          {{
            room.price_per_night | currency : "₸" : "symbol-narrow" : "1.0-0"
          }}
        </div>
        <div class="room-card__total-price" *ngIf="checkIn && checkOut">
          {{
            calculateTotalPrice() | currency : "₸" : "symbol-narrow" : "1.0-0"
          }}
          за {{ calculateNights() }} {{ getNightsText(calculateNights()) }}
        </div>
      </div>

      <button
        class="room-card__button"
        (click)="onBookRoom()"
        [disabled]="!isAvailable()"
      >
        {{ isAvailable() ? "Забронировать" : "Нет мест" }}
      </button>
    </div>
  </div>
</div>
